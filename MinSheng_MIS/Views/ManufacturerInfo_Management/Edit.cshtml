@{
    ViewBag.Title = "編輯廠商";
}
<h2>@ViewBag.Title</h2>

<div class="edit-area ms-auto me-auto" style="max-width: 578px;">
    <form class="form pt-0">
        <div class="form-group">
            <label for="MFRName">供應商名稱</label>
            <input class="form-control" type="text" name="MFRName" id="MFRName">
        </div>
        <div class="form-group">
            <label for="ContactPerson">聯絡人</label>
            <input class="form-control" type="text" name="ContactPerson" id="ContactPerson">
        </div>

        <div class="form-group">
            <label for="MFRTelNO">電話</label>
            <input class="form-control" type="text" name="MFRTelNO" id="MFRTelNO">
        </div>

        <div class="form-group">
            <label for="MFRMBPhone">手機</label>
            <input class="form-control" type="text" name="MFRMBPhone" id="MFRMBPhone">
        </div>

        <div class="form-group g-col-2">
            <label for="MFRAddress">地址</label>
            <input class="form-control" type="text" name="MFRAddress" id="MFRAddress">
        </div>

        <div class="form-group g-col-2">
            <label for="MFREmail">電子郵件</label>
            <input class="form-control" type="email" name="MFREmail" id="MFREmail">
        </div>

        <div class="form-group g-col-2">
            <label for="MFRWeb">網站</label>
            <input class="form-control" type="url" name="MFRWeb" id="MFRWeb">
        </div>

        <div class="form-group g-col-2">
            <label for="MFRMainProduct">主要商品</label>
            <input class="form-control" type="text" name="MFRMainProduct" id="MFRMainProduct">
        </div>
    </form>
</div>
<div class="edit-button-area">
    <button class="btn btn-back" id="back">返回</button>
    <button class="btn btn-export" id="submit">新增</button>
</div>

<script>
    const MFRSN = '@ViewBag.id';
    //let apiUrl = '@Url.Action("ReadBody", "ManufacturerInfo_Management")' + `/${MFRSN}`;
    let apiUrl = null;

    const fakeData = {
        MFRSN: "00001",
        MFRName: "OO廠商",
        ContactPerson: "王大明",
        MFRTelNO: "02-28966653",
        MFRMBPhone: "0955641236",
        MFRMainProduct: "機械相關耗材",
        MFREmail: "gresw@gmail.com",
        MFRAddress: "OOOOXOOXOO",
        MFRWeb: "OOXOXOXO@XOXO",
    }


    $(function () {
        addButtonEvent();
        readData(apiUrl);
    })

    function readData(url = null) {

        url == null ? onSuccess(fakeData) :
            $.ajax({
                url: url,
                type: "GET",
                dataType: "json",
                contentType: "application/json;charset=utf-8",
                success: onSuccess,
                error: onError
            })

        async function onSuccess(res) {
            console.log(res);

            for (const [k, v] of Object.entries(res)) {
                $(`#${k}`).val(v);
            }
        }
        function onError(res) {
            console.log(res);
        }
    }

    function addButtonEvent() {
        $("#back").click(function () {
            history.back();
        })
    }
</script>

